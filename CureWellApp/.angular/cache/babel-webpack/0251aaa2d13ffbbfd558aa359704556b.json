{"ast":null,"code":"import _classCallCheck from \"C:/Users/s_zam/source/repos/CureWell/CureWellApp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/s_zam/source/repos/CureWell/CureWellApp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { __decorate, __metadata } from \"tslib\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Component } from '@angular/core';\nimport { CurewellService } from '../../curewell-services/curewell.service';\n\nvar UpdateSurgeryComponent = /*#__PURE__*/function () {\n  function UpdateSurgeryComponent(route, _cureWellService, router) {\n    _classCallCheck(this, UpdateSurgeryComponent);\n\n    this.route = route;\n    this._cureWellService = _cureWellService;\n    this.router = router;\n  }\n\n  _createClass(UpdateSurgeryComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      //To do implement necessary logic\n      this.surgeryId = parseInt(this.route.snapshot.params['surgeryId']);\n      this.surgeryCategory = this.route.snapshot.params['surgeryCategory'];\n      this.surgeryDate = new Date(this.route.snapshot.params['surgeryDate']);\n      this.startTime = parseInt(this.route.snapshot.params['startTime']);\n      this.endTime = parseInt(this.route.snapshot.params['endTime']);\n      this.doctorId = parseInt(this.route.snapshot.params['doctorId']);\n    }\n  }, {\n    key: \"editSurgery\",\n    value: function editSurgery(startTime, endTime) {\n      var _this = this;\n\n      //To do implement necessary logic\n      this.startTime = startTime;\n      this.endTime = endTime;\n\n      if (typeof this.startTime == 'string') {\n        this.startTime = parseInt(this.startTime);\n      }\n\n      if (typeof this.endTime == 'string') {\n        this.endTime = parseInt(this.endTime);\n      } // console.log(\"New start time: \" + typeof (this.startTime));\n      // console.log(\"New end time: \" + typeof (this.endTime));\n      //editSurgery(doctorId: number, endTime: number, startTime: number, surgeryCategory: string, surgeryDate: Date, surgeryId: number)\n\n\n      this._cureWellService.editSurgery(this.doctorId, this.endTime, this.startTime, this.surgeryCategory, this.surgeryDate, this.surgeryId).subscribe(function (responseSurgeryData) {\n        _this.status = responseSurgeryData;\n\n        if (_this.status) {\n          alert(\"Surgery Details update successfully!\");\n\n          _this.router.navigate(['/viewTodaySurgery']);\n        } else {\n          alert(\"Surgery details not updated\");\n        }\n      }, function (responseSurgeryError) {\n        _this.errorMsg = responseSurgeryError;\n        alert(\"Some error occured\");\n\n        _this.router.navigate(['/viewTodaySurgery']);\n      }, function () {\n        console.log(\"editSurgery executed\"); // this.router.navigate(['/viewTodaySurgery']);\n      });\n    }\n  }]);\n\n  return UpdateSurgeryComponent;\n}();\n\nUpdateSurgeryComponent = __decorate([Component({\n  templateUrl: './update-surgery.component.html'\n}), __metadata(\"design:paramtypes\", [ActivatedRoute, CurewellService, Router])], UpdateSurgeryComponent);\nexport { UpdateSurgeryComponent };","map":null,"metadata":{},"sourceType":"module"}